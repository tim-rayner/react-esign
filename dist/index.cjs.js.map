{"version":3,"file":"index.cjs.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/SignatureInput.tsx"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import { useCallback, useEffect, useRef, useState } from \"react\";\nimport \"./esign.css\";\n\ntype ButtonProps = {\n  children: React.ReactNode;\n  onClick: () => void;\n  disabled?: boolean;\n  style?: React.CSSProperties;\n};\n\nconst Button = ({ children, onClick, disabled, style }: ButtonProps) => {\n  return (\n    <button\n      onClick={onClick}\n      disabled={disabled}\n      style={disabled ? undefined : style}\n      className=\"button\"\n    >\n      {children}\n    </button>\n  );\n};\n\nconst TextButton = ({ children, onClick, disabled, style }: ButtonProps) => {\n  return (\n    <button\n      onClick={onClick}\n      disabled={disabled}\n      style={style}\n      className=\"text-button\"\n    >\n      {children}\n    </button>\n  );\n};\n\nexport type SignatureInputProps = {\n  onChange: (value?: File) => void;\n  isDisabled?: boolean;\n  isError?: boolean;\n  width?: number;\n  height?: number;\n  themeColor?: string;\n  strokeWidth?: number;\n  inputMode?: \"draw\" | \"type\" | \"auto\";\n  buttonType?: \"button\" | \"text\";\n  download?: boolean;\n  clear?: boolean;\n  style?: React.CSSProperties;\n};\n\nconst SignatureInput = ({\n  onChange,\n  isDisabled = false,\n  isError = false,\n  width = 450,\n  height = 150,\n  themeColor = \"#1976d2\",\n  strokeWidth = 2,\n  inputMode = \"draw\",\n  buttonType = \"button\",\n  download = false,\n  clear = true,\n  style,\n}: SignatureInputProps) => {\n  const [isDrawing, setIsDrawing] = useState(false);\n  const [hasStrokes, setHasStrokes] = useState(false);\n  const signaturePadRef = useRef<HTMLCanvasElement>(null);\n  const ctxRef = useRef<CanvasRenderingContext2D | null>(null);\n  const strokesRef = useRef<{ x: number; y: number }[][]>([]);\n  const currentStrokeRef = useRef<{ x: number; y: number }[]>([]);\n  const [typedSignature, setTypedSignature] = useState(\"\");\n\n  // Add these new refs to track scaling\n  const scaleRef = useRef<{ x: number; y: number }>({ x: 1, y: 1 });\n  const displaySizeRef = useRef<{ width: number; height: number }>({\n    width,\n    height,\n  });\n\n  const initializeCanvas = useCallback((): void => {\n    if (!signaturePadRef.current) return;\n    const canvas = signaturePadRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    if (!ctx) return;\n\n    // Get the container width\n    const container = canvas.parentElement;\n    if (!container) return;\n    const containerWidth = container.clientWidth;\n\n    // Calculate the scaled dimensions while maintaining aspect ratio\n    const scale = Math.min(\n      containerWidth / width,\n      containerWidth / (width * (height / width))\n    );\n    const scaledWidth = width * scale;\n    const scaledHeight = height * scale;\n\n    // Update display size ref\n    displaySizeRef.current = { width: scaledWidth, height: scaledHeight };\n\n    // Set the display size\n    canvas.style.width = `${scaledWidth}px`;\n    canvas.style.height = `${scaledHeight}px`;\n\n    // Set the internal canvas size (for consistent image export)\n    canvas.width = width;\n    canvas.height = height;\n\n    // Calculate scale factors\n    scaleRef.current = {\n      x: width / scaledWidth,\n      y: height / scaledHeight,\n    };\n\n    ctx.lineWidth = strokeWidth;\n    ctx.lineJoin = \"round\";\n    ctx.strokeStyle = \"#000\";\n    ctxRef.current = ctx;\n  }, [width, height, strokeWidth]);\n\n  const redrawCanvasWithSmoothing = useCallback(() => {\n    if (!ctxRef.current) return;\n\n    // Clear the entire canvas\n    ctxRef.current.clearRect(\n      0,\n      0,\n      ctxRef.current.canvas.width,\n      ctxRef.current.canvas.height\n    );\n\n    // Reset the drawing style for each redraw\n    ctxRef.current.lineWidth = strokeWidth;\n    ctxRef.current.lineJoin = \"round\";\n    ctxRef.current.strokeStyle = \"#000\";\n\n    // Draw each stroke\n    strokesRef.current.forEach((stroke) => {\n      if (!ctxRef.current) return;\n      const smoothedStroke = smoothStroke(stroke);\n\n      ctxRef.current.beginPath();\n      ctxRef.current.moveTo(smoothedStroke[0].x, smoothedStroke[0].y);\n\n      for (let i = 1; i < smoothedStroke.length; i++) {\n        ctxRef.current.lineTo(smoothedStroke[i].x, smoothedStroke[i].y);\n      }\n\n      ctxRef.current.stroke();\n    });\n\n    // Draw typed signature after strokes\n    if (typedSignature) {\n      if (!ctxRef.current) return;\n      ctxRef.current.font = `italic ${\n        strokeWidth * 12\n      }px \"Dancing Script\", cursive`;\n      ctxRef.current.textAlign = \"center\";\n      ctxRef.current.fillStyle = \"#000\";\n      ctxRef.current.fillText(\n        typedSignature,\n        ctxRef.current.canvas.width / (2 * window.devicePixelRatio),\n        ctxRef.current.canvas.height / (2 * window.devicePixelRatio) + 10\n      );\n    }\n  }, [strokeWidth, typedSignature]);\n\n  // Add resize observer\n  useEffect(() => {\n    const observer = new ResizeObserver(() => {\n      initializeCanvas();\n      redrawCanvasWithSmoothing();\n    });\n\n    if (signaturePadRef.current?.parentElement) {\n      observer.observe(signaturePadRef.current.parentElement);\n    }\n\n    return () => observer.disconnect();\n  }, [initializeCanvas, redrawCanvasWithSmoothing]);\n\n  const handleClear = useCallback((): void => {\n    if (!ctxRef.current || isDisabled) return;\n    ctxRef.current.clearRect(\n      0,\n      0,\n      ctxRef.current.canvas.width,\n      ctxRef.current.canvas.height\n    );\n    strokesRef.current = [];\n    currentStrokeRef.current = [];\n    setTypedSignature(\"\");\n    setHasStrokes(false);\n    onChange(undefined);\n  }, [onChange]);\n\n  const handlePointerDown = useCallback(\n    (event: PointerEvent): void => {\n      if (\n        !isDisabled &&\n        (inputMode === \"auto\" || inputMode === \"draw\") &&\n        ctxRef.current &&\n        signaturePadRef.current\n      ) {\n        setIsDrawing(true);\n        const rect = signaturePadRef.current.getBoundingClientRect();\n        const x = (event.clientX - rect.left) * scaleRef.current.x;\n        const y = (event.clientY - rect.top) * scaleRef.current.y;\n        ctxRef.current.beginPath();\n        ctxRef.current.moveTo(x, y);\n        currentStrokeRef.current = [{ x, y }];\n      }\n    },\n    [inputMode]\n  );\n\n  const handlePointerMove = useCallback(\n    (event: PointerEvent): void => {\n      if (isDisabled) return;\n      if (\n        (inputMode !== \"draw\" && inputMode !== \"auto\") ||\n        !isDrawing ||\n        !ctxRef.current ||\n        !signaturePadRef.current\n      )\n        return;\n\n      const rect = signaturePadRef.current.getBoundingClientRect();\n      const x = (event.clientX - rect.left) * scaleRef.current.x;\n      const y = (event.clientY - rect.top) * scaleRef.current.y;\n\n      ctxRef.current.lineTo(x, y);\n      ctxRef.current.stroke();\n\n      currentStrokeRef.current.push({ x, y });\n    },\n    [inputMode, isDrawing]\n  );\n\n  const handlePointerUp = useCallback((): void => {\n    setIsDrawing(false);\n\n    // Save the stroke\n    if (currentStrokeRef.current.length > 1) {\n      strokesRef.current.push([...currentStrokeRef.current]);\n      setHasStrokes(true);\n\n      // Smooth strokes and redraw\n      setTimeout(() => {\n        redrawCanvasWithSmoothing();\n      }, 10);\n    }\n\n    ctxRef.current?.beginPath();\n\n    // Convert to File\n    if (signaturePadRef.current) {\n      signaturePadRef.current.toBlob((blob) => {\n        if (blob) {\n          const file = new File([blob], \"signature.png\", { type: \"image/png\" });\n          onChange(file);\n        }\n      });\n    }\n  }, [onChange]);\n\n  const handleTouchStart = useCallback(\n    (event: TouchEvent): void => {\n      if (isDisabled) return;\n      event.preventDefault(); // Prevent scrolling when drawing starts\n    },\n    [isDisabled]\n  );\n\n  useEffect(() => {\n    if (!signaturePadRef.current) return;\n    const canvas = signaturePadRef.current;\n\n    const attachListeners = () => {\n      canvas.addEventListener(\"touchstart\", handleTouchStart, {\n        passive: false,\n      });\n      canvas.addEventListener(\"pointerdown\", handlePointerDown);\n      canvas.addEventListener(\"pointermove\", handlePointerMove);\n      document.addEventListener(\"pointerup\", handlePointerUp);\n    };\n\n    const detachListeners = () => {\n      canvas.removeEventListener(\"touchstart\", handleTouchStart);\n      canvas.removeEventListener(\"pointerdown\", handlePointerDown);\n      canvas.removeEventListener(\"pointermove\", handlePointerMove);\n      document.removeEventListener(\"pointerup\", handlePointerUp);\n    };\n\n    if (!isDisabled) {\n      attachListeners();\n    } else {\n      detachListeners();\n    }\n\n    return () => {\n      detachListeners();\n    };\n  }, [\n    handlePointerDown,\n    handlePointerMove,\n    handlePointerUp,\n    handleTouchStart,\n    isDisabled,\n  ]); // âœ… Dependency on isDisabled\n\n  /**\n   * Catmull-Rom Splines Algorithm: Smooths the strokes\n   */\n  const smoothStroke = (\n    points: { x: number; y: number }[],\n    numSegments: number = 10 // Controls smoothness\n  ): { x: number; y: number }[] => {\n    if (points.length < 4) return points; // Need at least 4 points for Catmull-Rom\n\n    let smoothed: { x: number; y: number }[] = [];\n    smoothed.push(points[0]); // Keep the first point\n\n    for (let i = 0; i < points.length - 1; i++) {\n      const p0 = points[Math.max(0, i - 1)];\n      const p1 = points[i];\n      const p2 = points[Math.min(i + 1, points.length - 1)];\n      const p3 = points[Math.min(i + 2, points.length - 1)];\n\n      for (let t = 0; t <= 1; t += 1 / numSegments) {\n        const t2 = t * t;\n        const t3 = t2 * t;\n\n        // Catmull-Rom spline formula\n        const x =\n          0.5 *\n          (2 * p1.x +\n            (-p0.x + p2.x) * t +\n            (2 * p0.x - 5 * p1.x + 4 * p2.x - p3.x) * t2 +\n            (-p0.x + 3 * p1.x - 3 * p2.x + p3.x) * t3);\n\n        const y =\n          0.5 *\n          (2 * p1.y +\n            (-p0.y + p2.y) * t +\n            (2 * p0.y - 5 * p1.y + 4 * p2.y - p3.y) * t2 +\n            (-p0.y + 3 * p1.y - 3 * p2.y + p3.y) * t3);\n\n        smoothed.push({ x, y });\n      }\n    }\n\n    smoothed.push(points[points.length - 1]); // Keep last point\n    return smoothed;\n  };\n\n  /**\n   * Listen for user keyboard input in \"type\" mode or \"auto\" mode\n   */\n  useEffect(() => {\n    if (inputMode !== \"type\" && (inputMode !== \"auto\" || isDrawing)) return;\n\n    const handleKeyPress = (event: KeyboardEvent) => {\n      if (event.key.length === 1) {\n        setTypedSignature((prev) => prev + event.key);\n      } else if (event.key === \"Backspace\") {\n        if (typedSignature.length === 1) {\n          handleClear();\n        } else {\n          setTypedSignature((prev) => prev.slice(0, -1));\n        }\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyPress);\n    return () => window.removeEventListener(\"keydown\", handleKeyPress);\n  }, [inputMode, typedSignature, handleClear, isDrawing]);\n\n  const handleDownload = useCallback((): void => {\n    if (!signaturePadRef.current || strokesRef.current.length === 0) return;\n\n    // Create a temporary link element\n    const link = document.createElement(\"a\");\n    link.download = \"signature.png\";\n\n    // Get the canvas data as a URL\n    const dataUrl = signaturePadRef.current.toDataURL(\"image/png\");\n    link.href = dataUrl;\n\n    // Programmatically click the link to trigger download\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  }, []);\n\n  // Update canvas when typed signature changes\n  useEffect(() => {\n    redrawCanvasWithSmoothing();\n  }, [typedSignature, redrawCanvasWithSmoothing]);\n\n  const borderStyles = () => {\n    if (isDrawing && !isDisabled) return { borderColor: themeColor };\n    if (isDisabled) return { borderColor: \"#ccc\" };\n    if (isError) return { borderColor: \"#f44336\" };\n    return {};\n  };\n\n  return (\n    <div\n      className=\"signature-input-container\"\n      style={{\n        width: \"100%\",\n        maxWidth: `${width}px`,\n        minWidth: `${Math.min(width, 100)}px`,\n        ...style,\n      }}\n    >\n      <canvas\n        className={`drawing-canvas`}\n        ref={signaturePadRef}\n        style={{\n          touchAction: \"none\",\n          width: \"100%\",\n          height: \"100%\",\n          maxWidth: `${width}px`,\n          aspectRatio: `${width} / ${height}`,\n          cursor: isDisabled\n            ? \"not-allowed\"\n            : `url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23000' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z'/%3E%3C/svg%3E\") 0 24, pointer`,\n          ...borderStyles(),\n        }}\n      />\n\n      {/* Buttons Container */}\n      <div\n        style={{\n          display: \"flex\",\n          gap: 1,\n          justifyContent: \"space-between\",\n          flexDirection: \"column\",\n          marginTop: \"10px\",\n        }}\n      >\n        {clear && (\n          <>\n            {buttonType === \"button\" && (\n              <>\n                <Button\n                  onClick={handleClear}\n                  disabled={!hasStrokes || isDisabled}\n                  style={{ backgroundColor: themeColor }}\n                >\n                  Clear\n                </Button>\n              </>\n            )}\n            {buttonType === \"text\" && (\n              <>\n                <TextButton\n                  onClick={handleClear}\n                  disabled={!hasStrokes || isDisabled}\n                  style={{ color: themeColor, opacity: !hasStrokes ? 0.5 : 1 }}\n                >\n                  Clear\n                </TextButton>\n              </>\n            )}\n          </>\n        )}\n\n        {download && (\n          <Button\n            onClick={handleDownload}\n            disabled={!hasStrokes}\n            style={{ backgroundColor: themeColor }}\n          >\n            Download\n          </Button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport { SignatureInput };\n"],"names":["_jsx","useState","useRef","useCallback","useEffect","_jsxs","_Fragment"],"mappings":"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","x_google_ignoreList":[0]}